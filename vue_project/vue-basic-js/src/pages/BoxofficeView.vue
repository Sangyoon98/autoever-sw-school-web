<template>
  <div class="p-6 max-w-3xl mx-auto">
    <h1 class="text-3xl font-bold text-center mb-8 text-gray-800">
      ğŸ¬ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ìˆœìœ„
    </h1>

    <div class="space-y-4">
      <div
          v-for="movie in movies"
          :key="movie.movieCd"
          class="p-4 border rounded-lg shadow-sm hover:shadow-md transition duration-200 bg-white"
      >
        <div class="flex items-center justify-between">
          <div class="text-xl font-semibold text-indigo-600">
            {{ movie.rank }}ìœ„ - {{ movie.movieNm }}
          </div>
          <div class="text-sm text-gray-500">
            {{ movie.openDt || "ê°œë´‰ì¼ ì—†ìŒ" }}
          </div>
        </div>
        <div class="mt-2 text-sm text-gray-700">
          ğŸŸï¸ ì¼ì¼ ê´€ê°ìˆ˜: {{ Number(movie.audiCnt).toLocaleString() }}ëª… <br />
          ğŸ’° ë§¤ì¶œì•¡: {{ Number(movie.salesAmt).toLocaleString() }}ì›
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";

const movies = ref([]);

onMounted(async () => {
  const res = await fetch("http://127.0.0.1:5000/api/boxoffice");
  const data = await res.json();
  console.log("âœ… API ì‘ë‹µ í™•ì¸:", data);
  movies.value = data;
});
</script>

<style scoped>
</style>